<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.64">
<link rel="search" type="application/opensearchdescription+xml" title="CassKop" href="/casskop/opensearch.xml"><title data-react-helmet="true">Cassandra restore | CassKop</title><meta data-react-helmet="true" name="docsearch:version" content="current,latest"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="Cassandra restore | CassKop"><meta data-react-helmet="true" name="description" content="CassandraRestoreSpec defines the specification for a restore of a Cassandra backup."><meta data-react-helmet="true" property="og:description" content="CassandraRestoreSpec defines the specification for a restore of a Cassandra backup."><meta data-react-helmet="true" property="og:url" content="https://orange-opensource.github.io/casskop/docs/6_references/6_cassandra_restore"><link data-react-helmet="true" rel="shortcut icon" href="/casskop/img/casskop.ico"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="true"><link data-react-helmet="true" rel="canonical" href="https://orange-opensource.github.io/casskop/docs/6_references/6_cassandra_restore"><link rel="stylesheet" href="/casskop/styles.510cca74.css">
<link rel="preload" href="/casskop/styles.46b23f1a.js" as="script">
<link rel="preload" href="/casskop/runtime~main.187cf770.js" as="script">
<link rel="preload" href="/casskop/main.87116478.js" as="script">
<link rel="preload" href="/casskop/1.a86cd369.js" as="script">
<link rel="preload" href="/casskop/2.098fa0d7.js" as="script">
<link rel="preload" href="/casskop/3.2597f946.js" as="script">
<link rel="preload" href="/casskop/1be78505.8ab30071.js" as="script">
<link rel="preload" href="/casskop/69.aecbf0ce.js" as="script">
<link rel="preload" href="/casskop/935f2afb.7acb17e4.js" as="script">
<link rel="preload" href="/casskop/17896441.cb333e26.js" as="script">
<link rel="preload" href="/casskop/42eb378c.5ac36360.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/casskop/"><img class="navbar__logo" src="/casskop/img/casskop_alone.png" alt="CassKop Logo"><strong class="navbar__title">CassKop</strong></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/casskop/docs/1_concepts/1_introduction">Docs</a><a class="navbar__item navbar__link" href="/casskop/blog">Blog</a><a href="https://github.com/Orange-OpenSource/casskop" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2aTZ"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_BsTx">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_BsTx">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span><span class="DocSearch-Button-Key">âŒ˜</span><span class="DocSearch-Button-Key">K</span></button></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/casskop/"><img class="navbar__logo" src="/casskop/img/casskop_alone.png" alt="CassKop Logo"><strong class="navbar__title">CassKop</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/casskop/docs/1_concepts/1_introduction">Docs</a></li><li class="menu__list-item"><a class="menu__link" href="/casskop/blog">Blog</a></li><li class="menu__list-item"><a href="https://github.com/Orange-OpenSource/casskop" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_2gpo"><main class="docMainContainer_3EyW"><div class="container padding-vert--lg docItemWrapper_1EkI"><div class="row"><div class="col docItemCol_2ASc"><div class="docItemContainer_3QWW"><article><header><h1 class="docTitle_1Lrw">Cassandra restore</h1></header><div class="markdown"><p><code>CassandraRestoreSpec</code> defines the specification for a restore of a Cassandra backup.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-yaml codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token key atrule">apiVersion</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> db.orange.com/v1alpha1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">kind</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> CassandraRestore</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">metadata</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> restore</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">demo</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">spec</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">cassandraCluster</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> cluster</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">demo</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">cassandraBackup</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> backup</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">demo</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">restorationStrategyType</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> HARDLINKS</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">entities</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> k1.standard1</span></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="cassandrarestore"></a>CassandraRestore<a aria-hidden="true" tabindex="-1" class="hash-link" href="#cassandrarestore" title="Direct link to heading">#</a></h2><table><thead><tr><th>Field</th><th>Type</th><th>Description</th><th>Required</th><th>Default</th></tr></thead><tbody><tr><td>metadata</td><td><a href="https://godoc.org/k8s.io/apimachinery/pkg/apis/meta/v1#ObjectMeta" target="_blank" rel="noopener noreferrer">ObjectMetadata</a></td><td>is metadata that all persisted resources must have, which includes all objects users must create.</td><td>No</td><td>nil</td></tr><tr><td>spec</td><td><a href="#cassandrarestorespec">CassandraRestoreSpec</a></td><td>defines the desired state of CassandraRestore.</td><td>No</td><td>nil</td></tr><tr><td>status</td><td><a href="#cassandrarestorestatus">CassandraRestoreStatus</a></td><td>defines the observed state of CassandraRestore.</td><td>No</td><td>nil</td></tr></tbody></table><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="cassandrarestorespec"></a>CassandraRestoreSpec<a aria-hidden="true" tabindex="-1" class="hash-link" href="#cassandrarestorespec" title="Direct link to heading">#</a></h2><table><thead><tr><th>Field</th><th>Type</th><th>Description</th><th>Required</th><th>Default</th></tr></thead><tbody><tr><td>cassandraBackup</td><td>string</td><td>Name of the <a href="/casskop/docs/6_references/5_cassandra_backup">CassandraBackup</a> to restore</td><td>Yes</td><td>-</td></tr><tr><td>cassandraCluster</td><td>string</td><td>Name of the CassandraCluster the restore belongs to</td><td>Yes</td><td>-</td></tr><tr><td>cassandraDirectory</td><td>string</td><td>Directory of Cassandra where data folder resides. Defaults to /var/lib/cassandra</td><td>No</td><td>-</td></tr><tr><td>concurrentConnection</td><td>int32</td><td>Maximum number of threads used to download files from the cloud. Defaults to 10</td><td>No</td><td>-</td></tr><tr><td>entities</td><td>string</td><td>Database entities to restore, it might be either only keyspaces or only tables prefixed by their respective keyspace, e.g. &#x27;k1,k2&#x27; if one wants to backup whole keyspaces or &#x27;ks1.t1,ks2.t2&#x27; if one wants to restore specific tables. These formats are mutually exclusive so &#x27;k1,k2.t2&#x27; is invalid. An empty field will restore all keyspaces</td><td>No</td><td>-</td></tr><tr><td>exactSchemaVersion</td><td>boolean</td><td>When set a running node&#x27;s schema version must match the snapshot&#x27;s schema version. There might be cases when we want to restore a table for which its CQL schema has not changed but it has changed for other table / keyspace but a schema for that node has changed by doing that. Defaults to False</td><td>No</td><td>false</td></tr><tr><td>noDeleteTruncates</td><td>boolean</td><td>When set do not delete truncated SSTables after they&#x27;ve been restored during CLEANUP phase. Defaults to false</td><td>No</td><td>false</td></tr><tr><td>restorationStrategyType</td><td>string</td><td>Strategy telling how we should go about restoration, please refer to details in backup and sidecar documentation. Enum values are : HARDLINKS or IMPORT</td><td>No</td><td>-</td></tr><tr><td>schemaVersion</td><td>string</td><td>Version of the schema to restore from. Upon backup, a schema version is automatically appended to a snapshot name and its manifest is uploaded under that name. In case we have two snapshots having same name, we might distinguish between the two of them by using the schema version. If schema version is not specified, we expect a unique backup taken with respective snapshot name. This schema version has to match the version of a Cassandra node we are doing restore for (hence, by proxy, when global request mode is used, all nodes have to be on exact same schema version). Defaults to False</td><td>No</td><td>-</td></tr><tr><td>secret</td><td>string</td><td>Name of Secret to use when accessing cloud storage providers</td><td>No</td><td>-</td></tr></tbody></table><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="cassandrarestorestatus"></a>CassandraRestoreStatus<a aria-hidden="true" tabindex="-1" class="hash-link" href="#cassandrarestorestatus" title="Direct link to heading">#</a></h2><table><thead><tr><th>Field</th><th>Type</th><th>Description</th><th>Required</th><th>Default</th></tr></thead><tbody><tr><td>condition</td><td><a href="#condition">Condition</a></td><td>BackRestCondition describes the observed state of a Restore at a certain point</td><td>No</td><td>-</td></tr><tr><td>coordinatorMember</td><td>string</td><td>Name of the pod the restore operation is executed on</td><td>No</td><td>-</td></tr><tr><td>id</td><td>string</td><td>unique identifier of an operation, a random id is assigned to each operation after a request is submitted, from caller&#x27;s perspective, an id is sent back as a response to his request so he can further query state of that operation, referencing id, by operations/{id} endpoint</td><td>No</td><td>-</td></tr><tr><td>progress</td><td>string</td><td>Progress is a percentage, 100% means the operation is completed, either successfully or with errors</td><td>No</td><td>-</td></tr><tr><td>timeCompleted</td><td>string</td><td></td><td>No</td><td>-</td></tr><tr><td>timeCreated</td><td>string</td><td></td><td>No</td><td>-</td></tr><tr><td>timeStarted</td><td>string</td><td></td><td>No</td><td>-</td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="condition"></a>Condition<a aria-hidden="true" tabindex="-1" class="hash-link" href="#condition" title="Direct link to heading">#</a></h3><table><thead><tr><th>Field</th><th>Type</th><th>Description</th><th>Required</th><th>Default</th></tr></thead><tbody><tr><td>failureCause</td><td><a href="#items">[]items</a></td><td></td><td>No</td><td>nil</td></tr><tr><td>lastTransitionTime</td><td>string</td><td></td><td>No</td><td>-</td></tr><tr><td>type</td><td>string</td><td></td><td>No</td><td>-</td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="items"></a>Items<a aria-hidden="true" tabindex="-1" class="hash-link" href="#items" title="Direct link to heading">#</a></h3><table><thead><tr><th>Field</th><th>Type</th><th>Description</th><th>Required</th><th>Default</th></tr></thead><tbody><tr><td>message</td><td>string</td><td>message explaining the error</td><td>No</td><td>-</td></tr><tr><td>source</td><td>string</td><td>hostame of a node where this error has occurred</td><td>No</td><td>-</td></tr></tbody></table></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/Orange-OpenSource/casskop/edit/master/website/docs/6_references/6_cassandra_restore.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_3SO_"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#cassandrarestore" class="table-of-contents__link">CassandraRestore</a></li><li><a href="#cassandrarestorespec" class="table-of-contents__link">CassandraRestoreSpec</a></li><li><a href="#cassandrarestorestatus" class="table-of-contents__link">CassandraRestoreStatus</a><ul><li><a href="#condition" class="table-of-contents__link">Condition</a></li><li><a href="#items" class="table-of-contents__link">Items</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Getting Started</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/casskop/docs/1_concepts/1_introduction">Documentation</a></li><li class="footer__item"><a href="https://github.com/Orange-OpenSource/casskop" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://casskop.slack.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Slack</a></li><li class="footer__item"><a class="footer__link-item" href="/casskop/blog">Blog</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Contact</h4><ul class="footer__items"><li class="footer__item"><a href="mailto:prj.casskop.support@list.orangeportails.net" target="_blank" rel="noopener noreferrer" class="footer__link-item">Email</a></li><li class="footer__item"><a href="https://github.com/Orange-OpenSource/casskop/issues" target="_blank" rel="noopener noreferrer" class="footer__link-item">Feature request</a></li></ul></div></div><div class="text--center"><div>Copyright Â© 2020 Orange, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/casskop/styles.46b23f1a.js"></script>
<script src="/casskop/runtime~main.187cf770.js"></script>
<script src="/casskop/main.87116478.js"></script>
<script src="/casskop/1.a86cd369.js"></script>
<script src="/casskop/2.098fa0d7.js"></script>
<script src="/casskop/3.2597f946.js"></script>
<script src="/casskop/1be78505.8ab30071.js"></script>
<script src="/casskop/69.aecbf0ce.js"></script>
<script src="/casskop/935f2afb.7acb17e4.js"></script>
<script src="/casskop/17896441.cb333e26.js"></script>
<script src="/casskop/42eb378c.5ac36360.js"></script>
</body>
</html>
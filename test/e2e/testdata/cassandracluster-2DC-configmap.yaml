apiVersion: "db.orange.com/v1alpha1"
kind: "CassandraCluster"
metadata:
  name: cassandra-e2e
  labels:
    cluster: 2DC-configmap
  namespace: ns
spec:
  nodesPerRacks: 1
  cassandraImage: cassandra:3.11.6
  serverVersion: 3.11.7
  imagePullPolicy: "IfNotPresent"
  rollingPartition: 0
  configMapName: cassandra-configmap-v1
  dataCapacity: "1Gi"
  dataStorageClass: "local-storage"
  hardAntiAffinity: false
  deletePVC: true
  autoPilot: true
  config:
    jvm-options:
      log_gc: "true"
  autoUpdateSeedList: false
  resources:
    requests: &requests
      cpu: 500m
      memory: 1Gi
    limits: *requests
  topology:
    dc:
      - name: dc1
        rack:
          - name: rack1
      - name: dc2
        config:
          cassandra-yaml:
            num_tokens: 32
        nodesPerRacks: 1
        rack:
          - name: rack1

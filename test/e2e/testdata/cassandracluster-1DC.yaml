apiVersion: v1
kind: Secret
metadata:
  name: jolokia-auth
type: Opaque
data:
  password: TTBucDQ1NXcwcmQ=
  username: am9sb2tpYS11c2Vy
---
apiVersion: db.orange.com/v1alpha1
kind: CassandraCluster
metadata:
  name: cassandra-e2e
  labels:
    cluster: k8s.pic
spec:
  nodesPerRacks: 1
  cassandraImage: cassandra:latest
  imageJolokiaSecret:
    name: jolokia-auth
  dataCapacity: "1Gi"
  hardAntiAffinity: false
  deletePVC: false
  autoPilot: true
  autoUpdateSeedList: false
  resources:
    requests: &requests
      cpu: 100m
      memory: 512Mi
    limits: *requests
  nodesPerRacks: 1
  cassandraImage: cassandra:3.11.6
  serverVersion: 3.11.6
  bootstrapImage: cscetbon/cassandra-bootstrap:0.1.5-beta
  config:
    jvm-server-options:
      initial_heap_size: 128M
      max_heap_size: 256M
  topology:
    dc:
      - name: dc1
        rack:
          - name: rack1

apiVersion: db.orange.com/v1alpha1
kind: CassandraCluster
metadata:
  name: cassandra-e2e
spec:
  nodesPerRacks: 1
  imageJolokiaSecret:
    name: jolokia-auth
  dataCapacity: "1Gi"
  hardAntiAffinity: false
  deletePVC: false
  autoPilot: true
  autoUpdateSeedList: false
  resources:
    limits:
      cpu: 100m
      memory: 512Mi
  cassandraImage: cscetbon/cassandra:4.0-beta1
  serverVersion: 4.0.0
  config:
    jvm-options:
      initial_heap_size: 128M
      max_heap_size: 256M
  topology:
    dc:
      - name: dc1
        config:
          jvm-options:
            initial_heap_size: 129M
            resize_tlb: true
        rack:
          - name: rack1
            config:
              jvm-options:
                print_tenuring_distribution: true
